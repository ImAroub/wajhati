@model List<Place>
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager

@{
    ViewData["Title"] = "الرئيسية";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5" dir="rtl">
    <div class="text-center mb-5 mt-5">
        <h1 class="mt-5" style="color:#344c3d;">ابدأ تخطيط رحلتك</h1>
        <p class="mt-3 mb-4">حدد وجهتك وعدد الأيام وابدأ رحلتك السياحية</p>

        <a href="@(SignInManager.IsSignedIn(User) 
            ? Url.Action("Index", "Trip") 
            : Url.Page("/Account/Login", new { area = "Identity" }))" 
        class="btn text-white fw-bold fs-5 " style="min-width: 250px; background-color: #6d7e5c;">
        ابدأ التخطيط
        </a>

    </div>

    <hr class="mt-5">

    @if (Model != null && Model.Any())
    {
        <h4 class="display-6 mb-4 text-muted text-center mt-5">أماكن مقترحة</h4>
            <div class="row">
                @foreach (var place in Model)
                    {
                        <div class="col-md-3 mb-4">
                            <a href="@Url.Action("PlaceDetail", "Home", new { id = place.Id })" class="text-decoration-none text-dark">
                                <div class="card shadow border-0 h-100">
                                    @if (!string.IsNullOrEmpty(place.Detail?.ImageUrl))
                                    {
                                        <img src="@place.Detail.ImageUrl" class="card-img-top" alt="صورة المكان" style="height: 150px; object-fit: cover;">
                                    }
                                    <div class="card-body">
                                        <h5 class="card-title" style="text-shadow:2px 2px 4px #aaa; color: #545e46;">@place.Name</h5>
                                        <p class="card-text"><strong>النوع:</strong> @place.Type</p>
                                        <p class="card-text"><strong>المدينة:</strong> @place.City</p>
                                        <p class="card-text"><strong>العنوان:</strong> @place.Address</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
            </div>
    }
</div>
